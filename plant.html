<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Celliverse — Venus Flytrap Cell</title>
<link rel="stylesheet" href="style.css" />
</head>
<body>
<main class="page container">
  <header class="topbar">
    <h1 class="title">Venus Flytrap Cell — Plant Adaptation</h1>
    <p class="subtitle">Adaptation focus: carnivory & nutrient capture — specialized traps, rapid movement, and powerful digestive enzymes.</p>
  </header>

  <section class="status card">
    <div class="meta">
      <strong id="playerLabelPlant">Explorer</strong>
      <div class="adaptation-meter">
        <div class="meter-track"><div id="globalMeterPlant" class="meter-fill"></div></div>
        <small id="meterTextPlant">Adaptation: 0%</small>
      </div>
    </div>
  </section>

  <section class="organelles card">
    <h3>Organelles of Power — Plant Cell</h3>
    <p class="hint">Complete mini-games to adapt the plant cell for carnivorous survival.</p>

    <div id="organelleGridPlant" class="grid"></div>
  </section>

  <section class="card">
    <h3>Cell Visualization</h3>
    <canvas id="cellCanvasPlant" width="560" height="360"></canvas>
    <p class="hint">Watch the plant cell evolve — trap sensitivity, chloroplast efficiency, and digestive power.</p>
  </section>

  <div class="row">
    <a class="btn" id="backHubPlant">Back to Hub</a>
    <a class="btn alt" id="missionLogPlant">Show Mission Log</a>
  </div>

  <div id="logModalPlant" class="modal hidden">
    <div class="modal-content">
      <h4>Mission Log</h4>
      <pre id="logTextPlant"></pre>
      <button class="btn" onclick="closeLogPlant()">Close</button>
    </div>
  </div>
</main>

<script src="script.js"></script>
<script>
  const player = localStorage.getItem('celliverse_player') || 'Explorer';
  document.getElementById('playerLabelPlant').innerText = player;

  const plantOrganelles = [
    {id:'nucleus', label:'Nucleus', points:10, desc:'Controls expression of trap movement and enzymes.'},
    {id:'chloro', label:'Chloroplasts', points:12, desc:'Optimizes photosynthesis while balancing carnivory.'},
    {id:'rib', label:'Ribosomes', points:8, desc:'Produces proteins for rapid trap motion.'},
    {id:'er', label:'Endoplasmic Reticulum', points:7, desc:'Processes digestive enzymes.'},
    {id:'golgi', label:'Golgi', points:8, desc:'Packages enzymes for secretion.'},
    {id:'lys', label:'Lysosomes', points:6, desc:'Breaks down captured prey into nutrients.'},
    {id:'vacuole', label:'Vacuole', points:14, desc:'Stores captured nutrients for lean times.'},
    {id:'mem', label:'Cell Membrane', points:7, desc:'Controls ion flow during trap triggering.'},
    {id:'cyto', label:'Cytoskeleton', points:8, desc:'Provides mechanical power for the trap.'},
    {id:'plasmodesm', label:'Plasmodesmata', points:10, desc:'Distributes nutrients between cells quickly.'}
  ];

  initMission('plant', plantOrganelles, {
    environment: 'nutrient-poor',
    visuals: {palette:'cute-green', plant:'venus-flytrap'}
  });

  document.getElementById('backHubPlant').onclick = () => location.href = 'index.html';
  document.getElementById('missionLogPlant').onclick = showLogPlant;
</script>
</body>
</html>
